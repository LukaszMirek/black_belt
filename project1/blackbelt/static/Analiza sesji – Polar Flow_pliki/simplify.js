function getSqDist(i,e){var f=i.x-e.x,t=i.y-e.y;return f*f+t*t}function getSqSegDist(i,e,f){var t=e.x,n=e.y,s=f.x-t,p=f.y-n;if(0!==s||0!==p){var r=((i.x-t)*s+(i.y-n)*p)/(s*s+p*p);r>1?(t=f.x,n=f.y):r>0&&(t+=s*r,n+=p*r)}return s=i.x-t,p=i.y-n,s*s+p*p}function simplifyRadialDist(i,e){for(var f,t=i[0],n=[t],s=1,p=i.length;s<p;s++)f=i[s],getSqDist(f,t)>e&&(n.push(f),t=f);return t!==f&&n.push(f),n}function simplifyDPStep(i,e,f,t,n){for(var s,p=t,r=e+1;r<f;r++){var u=getSqSegDist(i[r],i[e],i[f]);u>p&&(s=r,p=u)}p>t&&(s-e>1&&simplifyDPStep(i,e,s,t,n),n.push(i[s]),f-s>1&&simplifyDPStep(i,s,f,t,n))}function simplifyDouglasPeucker(i,e){var f=i.length-1,t=[i[0]];return simplifyDPStep(i,0,f,e,t),t.push(i[f]),t}function simplify(i,e,f){if(i.length<=2)return i;var t=void 0!==e?e*e:1;return i=f?i:simplifyRadialDist(i,t),i=simplifyDouglasPeucker(i,t)}"function"==typeof define&&define.amd?define(function(){return simplify}):"undefined"!=typeof module?module.exports=simplify:"undefined"!=typeof self?self.simplify=simplify:window.simplify=simplify;
//# sourceMappingURL=simplify.min.js.map