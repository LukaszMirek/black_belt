TrainingModal=function(){this.content={}},TrainingModal.prototype.init=function(){},TrainingModal.bind=function(n,o){return function(){return n[o].apply(n,arguments)}},TrainingModal.prototype.register=function(n){this.content[n.element]={html:null,url:n.url,init:void 0!==n.init?n.init:function(){},open:void 0!==n.open?n.open:function(){},close:void 0!==n.close?n.close:function(){}};var o=this,t=n.element;$(t).bind("click",function(n){return n.preventDefault(),null===o.content[t].html?$.ajax({url:o.content[t].url,success:function(n){o.content[t].html=n,o.open(t)},error:function(){CommonHelpers.log("Modal.fetch:ERROR")}}):o.open(t),!1})},TrainingModal.prototype.open=function(n){var o=this,t=null;if(AppGlobal.screenWidth<979){var l=document.body;l.style.overflow="hidden",AppGlobal.rightOffCanvas.html(o.content[n].html),$(".wrapper").addClass("modal-loaded"),$(AppGlobal.rightOffCanvas).addClass("bottom-canvas--open"),t=function(){return $(".wrapper").removeClass("modal-loaded"),$(AppGlobal.rightOffCanvas).removeClass("bottom-canvas--open"),l.style.overflow="",AppGlobal.rightOffCanvas.html()}}else $("#flow_overlay").html(o.content[n].html),$("#flow_overlay").overlay().load(),t=function(){return $("#flow_overlay").overlay().close(),$("#flow_overlay").html()};null!==o.content[n].init&&(o.content[n].init(),o.content[n].init=null),o.content[n].open(),$(".modal-close").on("click",function(l){l.preventDefault(),o.content[n].close(),o.content[n].html=t(),$("body").trigger("modal:close")}),$("body").trigger("modal:open")},TrainingModal.prototype.close=function(){$(".modal-close").trigger("click")};
//# sourceMappingURL=modal.min.js.map