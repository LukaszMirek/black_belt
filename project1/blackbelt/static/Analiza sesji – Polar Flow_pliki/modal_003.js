var Modal={cache:{},open:function(o,e){var t;this.options&&(this.options.style&&(AppGlobal.rightOffCanvas.removeClass(this.options.style),$("#flow_overlay").removeClass(this.options.style)),this.options.id&&(AppGlobal.screenWidth<991?AppGlobal.rightOffCanvas.html().length>200&&(this.cache[this.options.id]=AppGlobal.rightOffCanvas.clone()):$("#flow_overlay").html().length>200&&(this.cache[this.options.id]=$("#flow_overlay").clone()))),e=e||{},this.options=e;var l=function(o){var l,n,a,s;AppGlobal.screenWidth<991?(document.body.style.overflow="hidden",a=$(".bottom-canvas"),e.style&&AppGlobal.rightOffCanvas.addClass(e.style),l=AppGlobal.rightOffCanvas.html(o.clone().children()),e.callback?e.callback(l):e.success&&e.success(l),l.addClass("bottom-canvas--open")):(a=$("#flow_overlay"),e.style&&a.addClass(e.style),l=a.html(o.clone().children()),e.callback?e.callback(l):e.success&&e.success(l),l.overlay().load()),s=a.find(".modal-body"),a.outerHeight(!0)>$(window).outerHeight(!0)&&(n=Math.min(a.outerHeight(!0),$(window).outerHeight(!0)),n-=a.find("h1:first").outerHeight(!0),n-=s.css("padding-top").replace(/[^-\d\.]/g,""),n-=s.css("padding-bottom").replace(/[^-\d\.]/g,""),s.height(n)),t=l,Modal.rebind()};if(this.options.id&&this.cache[this.options.id])l(this.cache[this.options.id]);else{var n=!0;void 0!=this.options.async&&(n=this.options.async);var a=!0;void 0!=this.options.cache&&(a=this.options.cache),o.jquery?l(o):$.ajax({url:o,async:n,cache:a,success:function(o){var t=e.preHandle?e.preHandle(o):o;l($(t))},error:function(o){if(e.hasOwnProperty("error"))return e.error(o)}})}return $("body").trigger("modal:open"),t},rebind:function(){$(".modal-close").unbind("click"),$(".modal-close").bind("click",function(o){return o.preventDefault(),Modal.close(),!1}),$("body").keyup(function(o){if(27===o.keyCode)return Modal.close(),!1})},close:function(){$(AppGlobal.rightOffCanvas).removeClass("bottom-canvas--open"),document.body.style.overflow="",$("#flow_overlay").overlay().close(),$("body").trigger("modal:close")}};$(window).resize(function(){AppGlobal.updateScreenWidth()}),function(o){function e(o,e){var n,e=e||{};switch(e.type){case"sportProfileSettings":n=l(o,e)}return t(n,e)}function t(o,e){return o.close=function(){o.effect("blind",{direction:"up"},500,function(){o.overlay.remove(),o.remove(),e&&e.close&&e.close()})},o}function l(e,t){var l=o('<div id="flowModalOverlay"></div>'),n=o(".wrapper");return l.appendTo(n),l.overlay({top:"center",mask:{color:"#000",loadSpeed:200,opacity:.2},closeOnClick:!1,load:!1,onBeforeLoad:function(){n.addClass("modal-loaded")},onClose:function(){l.remove(),n.removeClass("modal-loaded")}}),l.addClass("sportProfileSettings"),e.overlay=l,n.append(e),t&&t.open&&t.open.call(e),e}o.fn.flowModal=function(t){return e(o(this).eq(0),t)},o.flowModal=function(o,t){return e(o,t)}}(jQuery);
//# sourceMappingURL=modal.min.js.map