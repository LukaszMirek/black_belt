var SampleKeys=null,ExerciseKeys=null,Zones={speed:null,heartRate:null},Markers={none:"none",laps:"laps",phases:"phases"},LMapConstants={DEFAULT_LOCATION:[64.9330545,25.391227],DEFAULT_ZOOM:13,MAX_ZOOM:20,MIN_ZOOM:3,FIT_BOUNDS_PADDING:20,MAPBOX_COPYRIGHTS:'<a href="https://www.mapbox.com/about/maps/">&copy; '+(new Date).getFullYear()+' Mapbox</a>  &copy; <a href="https://www.openstreetmap.org/about/">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>'};!function(){LMapHelpers=function(){},LMapHelpers.getBaseLayers=function(e){return mapboxgl.supported()?{street:L.mapboxGL({accessToken:e,style:"mapbox://styles/mapbox/streets-v11",attribution:LMapConstants.MAPBOX_COPYRIGHTS}),satellite:L.mapboxGL({accessToken:e,style:"mapbox://styles/mapbox/satellite-streets-v11",attribution:LMapConstants.MAPBOX_COPYRIGHTS}),terrain:L.mapboxGL({accessToken:e,style:"mapbox://styles/mapbox/outdoors-v11",attribution:LMapConstants.MAPBOX_COPYRIGHTS})}:{street:L.tileLayer("https://api.mapbox.com/styles/v1/mapbox/{id}/tiles/{z}/{x}/{y}{r}?access_token={accessToken}",{attribution:LMapConstants.MAPBOX_COPYRIGHTS,minZoom:LMapConstants.MIN_ZOOM,maxZoom:LMapConstants.MAX_ZOOM,id:"streets-v11",accessToken:e,zoomOffset:-1,tileSize:512}),satellite:L.tileLayer("https://api.mapbox.com/styles/v1/mapbox/{id}/tiles/{z}/{x}/{y}{r}?access_token={accessToken}",{attribution:LMapConstants.MAPBOX_COPYRIGHTS,minZoom:LMapConstants.MIN_ZOOM,maxZoom:LMapConstants.MAX_ZOOM,id:"satellite-streets-v11",accessToken:e,zoomOffset:-1,tileSize:512}),terrain:L.tileLayer("https://api.mapbox.com/styles/v1/mapbox/{id}/tiles/{z}/{x}/{y}{r}?access_token={accessToken}",{attribution:LMapConstants.MAPBOX_COPYRIGHTS,minZoom:LMapConstants.MIN_ZOOM,maxZoom:LMapConstants.MAX_ZOOM,id:"outdoors-v11",accessToken:e,zoomOffset:-1,tileSize:512})}},LMapHelpers.getIcons=function(){var e=L.Icon.extend({options:{iconSize:[20,20],iconAnchor:[10,10]}});return{start:new e({iconUrl:AppGlobal.imagesUrl+"map_icons/map-_route-start.svg"}),end:new e({iconUrl:AppGlobal.imagesUrl+"map_icons/map-_route-end.svg"}),intermediate:new e({iconUrl:AppGlobal.imagesUrl+"map_icons/map-_sport-change.svg"}),racepace:new e({iconUrl:AppGlobal.imagesUrl+"map_icons/map_target.svg"}),racepaceEnd:new e({iconUrl:AppGlobal.imagesUrl+"map_icons/map-_racepace-end.svg"}),lap:new e({iconUrl:AppGlobal.imagesUrl+"map_icons/map-_lap-marker.svg"}),phase:new e({iconUrl:AppGlobal.imagesUrl+"map_icons/map-phase-marker.svg"}),position:new e({iconUrl:AppGlobal.imagesUrl+"map_icons/map-_you.svg"}),global:new e({iconUrl:AppGlobal.imagesUrl+"map_icons/location-icon.svg",iconSize:[60,60],iconAnchor:[31,66]})}},LMapHelpers.getHighlightTypes=function(){function e(e){for(var o=e.optionIdxFn?e.optionIdxFn:function(){return 0},a=Array.isArray(e.options)?e.options:[e.options],t=[].concat(a),s=0;s<a.length;s++)t.push($.extend({},a[s],{dashArray:"1,6"}));return{optionIdxFn:function(e){var t=e.meta.gpsMode,s=a.length,r=o(e);return"LOW"===t?r+s:r},options:t}}return{none:{color:CommonHelpers.routeDefaultColor,format:e({options:{color:CommonHelpers.routeDefaultColor}})},basic:{color:CommonHelpers.routeBasicHighlightColor,format:e({options:{color:CommonHelpers.routeBasicHighlightColor}})},speed:{color:CommonHelpers.routeDefaultSampleHighlightColor,format:e({optionIdxFn:function(e){var o=e.meta.speed,a=Zones.speed;if(null!=o&&null!=a&&a.length>0)for(var t=0;t<a.length;t++)if(o>=a[t].lower&&o<=a[t].upper)return t;return 5},options:[{color:CommonHelpers.speedZoneColors[0]},{color:CommonHelpers.speedZoneColors[1]},{color:CommonHelpers.speedZoneColors[2]},{color:CommonHelpers.speedZoneColors[3]},{color:CommonHelpers.speedZoneColors[4]},{color:CommonHelpers.routeDefaultSampleHighlightColor}]})},heartRate:{color:CommonHelpers.routeDefaultSampleHighlightColor,format:e({optionIdxFn:function(e){var o=e.meta.heartRate,a=Zones.heartRate;if(null!=o&&null!=a&&a.length>0)for(var t=0;t<a.length;t++)if(o>=a[t].lower&&o<=a[t].upper)return t;return 5},options:[{color:CommonHelpers.zoneColors[0]},{color:CommonHelpers.zoneColors[1]},{color:CommonHelpers.zoneColors[2]},{color:CommonHelpers.zoneColors[3]},{color:CommonHelpers.zoneColors[4]},{color:CommonHelpers.routeDefaultSampleHighlightColor}]})},racepace:{color:CommonHelpers.routeRacePaceAheadHighlightColor,format:e({optionIdxFn:function(e,o){if(exerciseTargetResults[exerciseID]){var a=exerciseTargetResults[exerciseID].distance;if(e.meta.distance<a){return store.getRacePaceData().racepaceSamples[exerciseID].RACE_PACE_AHEAD_INDEX[e.meta.index]?1:2}}return 0},options:[{color:CommonHelpers.routeDefaultColor},{color:CommonHelpers.routeRacePaceAheadHighlightColor},{color:CommonHelpers.routeRacePaceBehindHighlightColor}]})}}},LMapHelpers.convertToLatLngPoints=function(e){for(var o=[],a=0;a<e.length;a++){var t=L.latLng(e[a][SampleKeys.LATLON].lat,e[a][SampleKeys.LATLON].lon);t.meta={index:a,time:e[a][SampleKeys.TIME],distance:e[a][SampleKeys.DIST],speed:e[a][SampleKeys.SPEED],heartRate:e[a][SampleKeys.HEART_RATE],gpsMode:e[a][SampleKeys.GPS_MODE]},o.push(t)}return o},LMapHelpers.getExerciseDistance=function(e,o){var a=0;if(e&&o){for(var t=e[ExerciseKeys.SAMPLES_START_INDEX],s=e[ExerciseKeys.SAMPLES_STOP_INDEX],r=0,n=0,l=t;l<=s;l++)if(o[l]&&null!=o[l][SampleKeys.DIST]){r=o[l][SampleKeys.DIST];break}for(var l=s;l>=t;l--)if(o[l]&&null!=o[l][SampleKeys.DIST]){n=o[l][SampleKeys.DIST];break}a=n-r}return a}}();
//# sourceMappingURL=leafletMapHelpers.min.js.map